<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Biggest Spreadsheet</title>

<style>
:root{
  --bg:#0b0f1a;
  --card:#111;
  --white:#fff;
  --blue:#3b82f6;
  --purple:#9333ea;
  --ribbon:#f43f5e;
}
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif;}
body{
  background:radial-gradient(circle at center,#111827,#020617);
  color:#fff;overflow-x:hidden;
}

/* Mouse Glow */
#mouse-glow{
  position:fixed;width:420px;height:420px;
  background:radial-gradient(circle,rgba(59,130,246,.25),transparent 70%);
  pointer-events:none;transform:translate(-50%,-50%);
  z-index:0;
}

/* Banner */
.banner{background:linear-gradient(90deg,#4f46e5,#9333ea);overflow:hidden;}
.banner-track{
  padding-left:100%;
  white-space:nowrap;
  animation:scroll 18s linear infinite;
}
.banner a{color:#fff;font-weight:bold;text-decoration:none;}
@keyframes scroll{to{transform:translateX(-100%);}}

/* Header */
header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 18px;background:#000;position:sticky;top:0;z-index:10;
}
.menu-btn{font-size:26px;cursor:pointer;}
.title{font-size:22px;font-weight:bold;cursor:pointer;}
.header-right{display:flex;align-items:center;gap:8px;}
.header-right img{height:32px;border-radius:50%;}

/* Sidebar */
.sidebar{
  position:fixed;left:-260px;top:0;width:260px;height:100%;
  background:#020617;padding:20px;transition:.3s;z-index:20;
}
.sidebar.active{left:0;}
.sidebar a{
  display:block;margin:12px 0;color:#fff;
  text-decoration:none;font-size:18px;cursor:pointer;
}
.sidebar a:hover{color:var(--blue);}
.close{font-size:22px;cursor:pointer;margin-bottom:20px;}

/* Search */
.search{text-align:center;padding:16px;}
.search input{
  width:90%;max-width:420px;padding:10px;border-radius:10px;border:none;
}

/* Sort */
#sortBox{text-align:right;padding:0 20px 10px;display:none;}
#sortSelect{padding:8px;border-radius:8px;border:none;}

/* Titles */
h2{padding:0 20px 10px;}

/* Products */
.products{padding:20px;gap:20px;}
.products.horizontal{
  display:flex;overflow-x:auto;scroll-snap-type:x mandatory;
}
.products.horizontal .product{scroll-snap-align:center;}
.products.grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
}

/* Product Card */
.product{
  background:var(--card);border-radius:16px;padding:14px;
  display:flex;flex-direction:column;align-items:center;
  position:relative;transition:.3s;
}
.product:hover{
  transform:translateY(-6px);
  box-shadow:0 0 28px rgba(59,130,246,.7);
}
.product img{
  width:100%;height:190px;object-fit:contain;background:#000;border-radius:10px;
}
.product h3{margin:10px 0;text-align:center;min-height:44px;}
.price{margin-bottom:10px;color:#ccc;}
.buy-btn{
  margin-top:auto;width:100%;padding:10px;
  text-align:center;border-radius:10px;
  background:linear-gradient(90deg,#4f46e5,#9333ea);
  color:#fff;text-decoration:none;font-weight:bold;
}
.buy-btn:hover{filter:brightness(1.2);}

/* NEW */
.new{
  position:absolute;top:10px;right:10px;
  background:var(--ribbon);padding:4px 8px;
  font-size:12px;border-radius:6px;
  animation:pulse 1.5s infinite;
}
@keyframes pulse{50%{transform:scale(1.1);}}

/* Load more */
.load-more{
  text-align:center;font-size:20px;color:var(--purple);
  cursor:pointer;margin:30px;display:none;
}

/* ===== MOBILE ===== */
@media(max-width:768px){
  .products.grid{
    grid-template-columns:repeat(2,1fr);
    gap:14px;padding:14px;
  }
  .product img{height:150px;}
}

/* ===== MOBILE LANDSCAPE FIX ===== */
@media(max-width:768px) and (orientation:landscape){
  .products.grid{
    grid-template-columns:repeat(2,minmax(0,1fr));
    gap:12px;
  }
  .product{padding:10px;}
  .product img{height:120px;}
}
</style>
</head>

<body>
<div id="mouse-glow"></div>

<div class="banner">
  <div class="banner-track">
    <a href="https://www.acbuy.com/signup" target="_blank">
      Sign up to ACBuy & get $510 coupon • Sign up to ACBuy & get $510 coupon •
    </a>
  </div>
</div>

<header>
  <div class="menu-btn" onclick="openMenu()">☰</div>
  <div class="title" onclick="showHome()">Biggest Spreadsheet</div>
  <div class="header-right">
    <img src="https://image2url.com/r2/bucket1/images/1766618106451-0c81d26c-b893-4839-bc66-6642677b99d6.jpg">
    <span>X</span>
    <img src="https://image2url.com/r2/bucket1/images/1766618736532-eaf2466a-02d4-42f9-974e-09096fe25b67.jpg">
  </div>
</header>

<div class="sidebar" id="sidebar">
  <div class="close" onclick="closeMenu()">✖</div>
  <a onclick="showHome()">Startseite</a>
  <a onclick="showCategory('Schuhe')">Schuhe</a>
  <a onclick="showCategory('Jacke')">Jacke</a>
  <a onclick="showCategory('Sweater')">Sweater</a>
  <a onclick="showCategory('Pullover')">Pullover</a>
  <a onclick="showCategory('Hose')">Hose</a>
  <a onclick="showCategory('Jeans')">Jeans</a>
  <a onclick="showCategory('T-Shirts')">T-Shirts</a>
  <a onclick="showCategory('Shirts')">Shirts</a>
  <a onclick="showCategory('Accessoires')">Accessoires</a>
</div>

<div class="search">
  <input id="search" placeholder="Live Suche..." oninput="liveSearch()">
</div>

<h2 id="sectionTitle">New Products</h2>

<div id="sortBox">
  <select id="sortSelect" onchange="applySort()">
    <option value="new">Neueste zuerst</option>
    <option value="priceAsc">Preis ↑</option>
    <option value="priceDesc">Preis ↓</option>
  </select>
</div>

<div class="products horizontal" id="products"></div>
<div class="load-more" id="loadMore" onclick="loadMore()">⬇ Mehr anzeigen</div>

<script>
const glow=document.getElementById("mouse-glow");
document.addEventListener("mousemove",e=>{
  glow.style.left=e.clientX+"px";
  glow.style.top=e.clientY+"px";
});

const sidebar=document.getElementById("sidebar");
function openMenu(){sidebar.classList.add("active");}
function closeMenu(){sidebar.classList.remove("active");}
document.addEventListener("click",e=>{
  if(!sidebar.contains(e.target)&&!e.target.classList.contains("menu-btn"))closeMenu();
});

const SHEET="https://docs.google.com/spreadsheets/d/e/2PACX-1vTKFDHf1iWbs3eMXQCWfu-DxXu8cKa-3k907m4M83DVJ3b3hMHt7co3z_w3LKwcRBkgOigcWRKZGgvC/pub?output=csv";
let all=[],cat="",visible=20;

fetch(SHEET).then(r=>r.text()).then(csv=>{
  csv.trim().split("\n").slice(1).forEach((r,i)=>{
    const [name,price,image,link,category]=r.split(",");
    if(name)all.push({name,price:parseFloat(price),image,link,category,index:i});
  });
  showHome();
});

const box=document.getElementById("products");
const loadMoreBtn=document.getElementById("loadMore");

function render(list,mode){
  box.className="products "+mode;
  box.innerHTML="";
  list.forEach(p=>{
    const d=document.createElement("div");
    d.className="product";
    d.innerHTML=`
      <div class="new">NEW</div>
      <img src="${p.image}">
      <h3>${p.name}</h3>
      <div class="price">${p.price}€</div>
      <a class="buy-btn" href="${p.link}" target="_blank">Jetzt kaufen</a>
    `;
    box.appendChild(d);
  });
}

function showHome(){
  cat="";
  document.getElementById("sectionTitle").innerText="New Products";
  document.getElementById("sortBox").style.display="none";
  render([...all].sort((a,b)=>b.index-a.index).slice(0,10),"horizontal");
  loadMoreBtn.style.display="none";
}

function showCategory(c){
  cat=c;visible=20;
  document.getElementById("sectionTitle").innerText=c;
  document.getElementById("sortBox").style.display="block";
  applySort();
}

function applySort(){
  let list=all.filter(p=>p.category.toLowerCase()==cat.toLowerCase());
  const s=document.getElementById("sortSelect").value;
  if(s=="new")list.sort((a,b)=>b.index-a.index);
  if(s=="priceAsc")list.sort((a,b)=>a.price-b.price);
  if(s=="priceDesc")list.sort((a,b)=>b.price-a.price);
  render(list.slice(0,visible),"grid");
  loadMoreBtn.style.display=list.length>visible?"block":"none";
}

function loadMore(){visible+=20;applySort();}

function liveSearch(){
  const q=document.getElementById("search").value.toLowerCase();
  render(all.filter(p=>p.name.toLowerCase().includes(q)),"grid");
}
</script>
</body>
</html>
